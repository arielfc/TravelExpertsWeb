@model IEnumerable<TravelExpertsWeb.Models.BookingDetails>

@{
    ViewData["Title"] = "BookingDetails";
}

<!--<h1>Index</h1>-->
<h1> BookingDetails </h1><br>


<!--
<p>
    <a asp-action="Create">Create New</a>
</p>
-->

<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.ItineraryNo)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TripStart)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TripEnd)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Description)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Destination)
            </th>
            <!-- 20190610 <th>
                @Html.DisplayNameFor(model => model.BasePrice)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.AgencyCommission)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.BookingId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.RegionId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ClassId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FeeId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductSupplierId)
            </th>-->
            <th>
                Price
            </th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.ItineraryNo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TripStart)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TripEnd)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Description)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Destination)
            </td>
            <td>
                @{
                    decimal bp, ac;
                    if (item.BasePrice == null) { bp = 0; }
                    else { bp = Convert.ToDecimal(item.BasePrice); }

                    if (item.AgencyCommission == null) { ac = 0; }
                    else { ac = Convert.ToDecimal(item.AgencyCommission); }

                    decimal price = bp + ac + item.Fee.FeeAmt;
                }
                @price
            </td>
            <!--20190610 <td>
                @Html.DisplayFor(modelItem => item.BasePrice)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AgencyCommission)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.BookingId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.RegionId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ClassId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.FeeId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ProductSupplierId)
            </td>
            <td>
                <a asp-action="Edit" asp-route-id="@item.BookingDetailId">Edit</a> |
                <a asp-action="Details" asp-route-id="@item.BookingDetailId">Details</a> |
                <a asp-action="Delete" asp-route-id="@item.BookingDetailId">Delete</a>
            </td>-->
        </tr>
}
    </tbody>
</table>
<div>
    <a asp-controller="Customers"
       asp-action="Details"
       asp-route-id=@ViewBag.id>Back to Account Summary</a>
</div>
